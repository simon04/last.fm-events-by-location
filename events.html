<div class="navbar navbar-default">
  <div class="navbar-header">
    <span class="navbar-brand">
      <a href="http://www.last.fm/">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAAAcCAMAAADBVciIAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB41BMVEUAAADeSUHeRz/dRTzdQjrcQDjcPjbgVk/un5vph4LeSkP2z830wsDne3XbPDPkbWb////2zsziYVn98/LbOTHka2X2zcviXljdRT70wb765uXvqKXaNy/jaWPtm5fcRDzfUEnaNS3jaGL2zMrtmpbZMyrjZl/1zMrngHrxsq/zv7zqjYjbQDfupaHeTUXsmZX65eTlc23ZMCjjZF71y8nbPTX42Nf98vLgV1Dqi4bupKHnfnnYLibiYlz98vHuo6Dsl5PdSEHzvbv42NbfVU/YLCPiYVr1ysjfVEzaOTHzvbrwsKz419b65ePslpHXKiHhX1n1ysfrlZDpiIPcRT388vHmenX319XXJx/hXVf1ycfyu7nwrqvtoJ3cQjvrk4/WJR3gXFb1yMbld3LwrarZMyv88fHeTkjrko7WIxrgWlPZMSjbPzfldnDwrKn64+LrkY3VIRjgWVL0x8XqkIztnZrYLybyubfldW/UHhbfVlDZOjPhZV/31dPqj4vngXzXLCXyuLbcSELkc27UHBPZODHqjon0xsT64+Hvqqb88fDkcWzfVU7UGhHsmpbXKCDyt7T0xsPfU03TGA/bQzzmfXjeUkvZNS3kb2npjIfhYFrWJh7TFQ3SEwrSEQjRDATRDwaMvy8eAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfYCA0SChrojMEQAAACvUlEQVRIx62T6zdUYRTGdzcppadCpVFR02A04zJF0hANKRpd5JJqqGSoXLscii4nJGMiHYZKf2r73a/bB1o+nN9ac979XPa7jrMWom22QrTdZmiHzdBOm6FdNkNxwu74+D1xW2ZvfELCvv0bZ5QoHAAOJm6VQ4eBTfuUJCQDKUn/4cjRdeIYkJqSenzjJjmENL7QsSkngLR1kl/vpMNxauMupQsZwOn0TTkDZKyT/+2SUzgLuGTIzHK5st05asxxu1yucx6nx+sCsrzeTF3N9AK5rDxer8fDbbfTmZftys7TqZPyhQLAx8f5CxAKi/Lziwr1XFCgTykwvmXF9kWpFBeLcUnHVCJc5gYfXPaXluXy80pJOVBexo+Kqz42Kny+Ul0tVSVWvOKHipT081vrmAJCJVAVCFzjrJrVdeBGwI8aHmur2L8JVAbWkK5aUW4NUFutNqFDCgp1wK1g8DZwR6m7QL2jHrinQ+XXBdeQrlppCK7uNAA6pEahCWhubGwGmkTeB5Jb1B/T/OAhy0crvka6aqVlLeNVHVJIaAXaQqE2oFXkY+DJ0zb51u3PQqGOFV8jXbXSEVrNuKxDCgudXAqH2e0U2cUXdYWfv3jZDnSHwz0rvka6aqUnvJrxqg6pV+gD+nt7B4BXIl+/AQZk6AbE79O1gbf8lK5aUZXlrF/1FGQIg/wmg0P8xDvDGHo/rKYR9j/whYYxDHw0hkaMT+x+Ngy+UK8MG5IN8tGvegoyhS/qc42aY/wcH+ef+ZWniTGlx0zzm3zNCXNSSqZ4SvBsjgKTfHBT30QRzRR33ZHod/1vMBWJuCf0OB3ldFrGaJS9mUiETfZm1AL3xFINfRH9WGb2pzXHx9x8LLawKI4Vi8XmZ3W6wCPHc9KxLOUuWnrBslR91rJ0k37ZDP22GfpjM7T011aWiJZshf4BY7JM8ifOr/UAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDItMTZUMTk6NTc6MTArMDE6MDBsdDcHAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDA4LTA4LTEzVDE4OjEwOjI2KzAyOjAwA6VehAAAAABJRU5ErkJggg==">
      </a>
    </span>
  </div>
  <div class="container">
    <form class="navbar-form">

    <div class="row row-condensed">
        <div class="col-xs-6 col-sm-4">
          <input ng-model="query.location" ng-model-options="{debounce: 500}" type="text" class="form-control" placeholder="Location" title="Location">
        </div>
        <div class="col-xs-3 col-sm-1">
          <input ng-model="query.distance" ng-model-options="{debounce: 500}" type="number" class="form-control" title="Distance (in kilometers)">
        </div>
        <div class="col-sm-2 hidden-xs">
          <button class="btn btn-default form-control" ng-class="{active: !!minical}" ng-click="minical = !minical">MiniCal</button>
        </div>
        <div class="col-sm-10 hidden-xs">
          <input ng-model="filter" type="search" class="form-control" placeholder="Filter" title="Filter" class="btn btn-default" list="filterList">
        </div>
      </div>
    </form>
  </div>
</div>
<datalist id="filterList">
  <option ng-repeat="i in ::eventKeywords" ng-value="i"/>
</datalist>

<div class="container-fluid">

  <div class="alert alert-danger" role="alert" data-ng-show="error">
    <strong>Error while loading events â€¦</strong>
    <pre>{{error}}</pre>
  </div>

  <div class="row row-striped row-line" ng-repeat="e in filteredEvents" ng-class="{cancelled: e.cancelled == 1}">

    <div class="col-xs-3 col-md-2">
      <img class="img-responsive img-rounded" ng-src="{{::e.thumb}}">
    </div>

    <div class="col-xs-9 col-md-10">
      <div class="row">

        <div class="col-sm-4" ng-if="!minical">
          <time ng-attr-datetime="::e.startDateFormatted" ng-bind="::e.startDateHumanized"></time>
          <span class="badge" ng-pluralize count="e.startDateInDays" when="{0: 'today', 1: 'tomorrow', other: 'in {} days'}"></span>
        </div>
        <div class="col-sm-4" ng-if="minical">
          <div mini-calendar ng-date="::e.startDate"></div>
        </div>

        <div class="col-sm-3" ng-if="e.website">
          <a ng-href="{{::e.website}}" ng-bind="::e.venue.name"></a>
          <span class="glyphicon glyphicon-new-window small"></span>
        </div>
        <div class="col-sm-3" ng-if="!e.website">
          <span ng-bind="::e.venue.name"></span>
        </div>

        <div class="col-sm-5">
          <a ng-href="{{::e.url}}">
            <b ng-bind="::e.title"></b>
          </a>
          <ul class="list-inline">
            <li ng-repeat="artist in ::e.artistArray">
              <a ng-href="{{'http://www.last.fm/music/' + artist}}" ng-bind="::artist">
              </a>
            </li>
          </ul>
        </div>

      </div>
    </div>

  </div>

</div>
